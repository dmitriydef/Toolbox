(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("2f39")},1:function(e,t){},"1d10":function(e,t,n){},2:function(e,t){},"2f39":function(e,t,n){"use strict";n.r(t);var o=n("967e"),s=n.n(o),a=(n("a481"),n("96cf"),n("fa84")),i=n.n(a),r=(n("5c7d"),n("1194"),n("7d6e"),n("e54f"),n("880e"),n("64f7"),n("62f2"),n("7e6d"),n("2b0e")),c=n("b05d"),l=n("4d5a"),d=n("e359"),p=n("9404"),u=n("09e3"),h=n("9989"),f=n("65c6"),m=n("6ac5"),g=n("9c40"),v=n("0016"),b=n("1c1c"),w=n("66e5"),y=n("4074"),k=n("0170"),x=n("eb85"),S=n("27f9"),I=n("58ea"),C=n("3980"),P=n("429b"),M=n("7460"),L=n("adad"),O=n("823b"),T=n("4e73"),N=n("74f7"),D=n("cf57"),_=n("24e8"),E=n("05c0"),Q=n("ddd8"),j=n("b047"),q=n("c1d0"),F=n("9564"),H=n("8572"),J=n("8f8e"),V=n("3b73"),$=n("6a67"),A=n("f09f"),B=n("a370"),G=n("4b7e"),R=n("7f67"),z=n("12c5"),U=n("75c3"),X=n("2a19"),Y=n("436b"),K=n("18d6"),W=n("a639");r["default"].use(c["a"],{config:{screen:{bodyClasses:!0}},components:{QLayout:l["a"],QHeader:d["a"],QDrawer:p["a"],QPageContainer:u["a"],QPage:h["a"],QToolbar:f["a"],QToolbarTitle:m["a"],QBtn:g["a"],QIcon:v["a"],QList:b["a"],QItem:w["a"],QItemSection:y["a"],QItemLabel:k["a"],QSeparator:x["a"],QInput:S["a"],QCircularProgress:I["a"],QResizeObserver:C["a"],QTabs:P["a"],QTab:M["a"],QTabPanels:L["a"],QTabPanel:O["a"],QMenu:T["a"],QInnerLoading:N["a"],QSpinnerGears:D["a"],QDialog:_["a"],QTooltip:E["a"],QSelect:Q["a"],QChip:j["a"],QSlider:q["a"],QToggle:F["a"],QField:H["a"],QCheckbox:J["a"],QExpansionItem:V["a"],QBtnToggle:$["a"],QCard:A["a"],QCardSection:B["a"],QCardActions:G["a"]},directives:{ClosePopup:R["a"],TouchSwipe:z["a"],TouchPan:U["a"]},plugins:{Notify:X["a"],Dialog:Y["a"],LocalStorage:K["a"],SessionStorage:W["a"]}});var Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view"),n("offline")],1)},ee=[],te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.token&&(e.$store.state.offline||e.$store.state.socketOffline)?n("div",{staticClass:"offline-page window-height window-width bg-light column items-center no-wrap"},[n("div",{staticClass:"offline-back"},[n("div",{staticClass:"offline-code"}),n("div",{staticClass:"offline-line"},e._l(Array(20),(function(t){return n("span",{key:t},[e._v("offline")])})),0)])]):e._e()},ne=[],oe={name:"offline",data:function(){return{intervalId:0}},created:function(){var e=this;this.intervalId=setInterval((function(){e.$store.dispatch("checkConnection")}),5e3)}},se=oe,ae=(n("85c2"),n("2877")),ie=Object(ae["a"])(se,te,ne,!1,null,null,null),re=ie.exports,ce={name:"App",components:{Offline:re}},le=ce,de=(n("7faf"),Object(ae["a"])(le,Z,ee,!1,null,null,null)),pe=de.exports,ue=n("2f62"),he=(n("8e6e"),n("8a81"),n("456d"),n("4db1")),fe=n.n(he),me=(n("f751"),n("551c"),n("ac6a"),n("cadf"),n("5df3"),n("c47a")),ge=n.n(me),ve=(n("6b54"),n("06db"),n("28a5"),n("7f7f"),n("9b02")),be=n.n(ve);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ge()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke={devices:"/gw/devices",channels:"/gw/channels",calcs:"/gw/calcs",streams:"/gw/streams",modems:"/gw/modems",containers:"/storage/containers",cdns:"/storage/cdns",tasks:"/gw/calcs/+/devices",subaccounts:"/platform/subaccounts"},xe={devices:["id","name","deleted","configuration"],channels:["id","name","deleted","protocol_id","uri"],calcs:["id","name","deleted","counters"],streams:["id","name","deleted","configuration"],modems:["id","name","deleted","configuration"],containers:["id","name","deleted"],cdns:["id","name","deleted"],tasks:["device_id","calc_id"],subaccounts:["id","name","deleted"]},Se=0,Ie=1;function Ce(e){var t="",n=null,o=Se;return"string"===typeof e?t=e:(t=e.entity,e.id&&(n=e.id),e.mode&&(o=e.mode)),{id:n,mode:o,entity:t}}function Pe(e,t){return Me.apply(this,arguments)}function Me(){return Me=i()(s.a.mark((function e(t,n){var o,a,i,c,l,d,p,u,h,f,m,g,v,b,w;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.state,a=t.commit,i=Ce(n),c=i.id,l=i.mode,d=i.entity,p=d,o[p]||r["default"].set(o,p,{}),!d){e.next=29;break}if(u="flespi/state".concat(ke[d],"/").concat(c||"+").concat(l===Ie?"/".concat(xe[d].join(",")):""),!o.token){e.next=29;break}if(e.prev=7,"channels"!==d||o.protocols){e.next=14;break}return e.next=11,r["default"].connector.gw.getProtocols("all",{fields:"name,id"});case 11:h=e.sent,f=h.data.result.reduce((function(e,t){return e[t.id]=t.name,e}),{}),r["default"].set(o,"protocols",f);case 14:return m={},g=u.split("/").reverse().slice(1),v=function(e,t,n){var s=t.split("/").reverse(),i=g.reduce((function(e,t,n){return"+"===t&&e.push(s[n]),e}),[]).reverse(),c=i.length<=1?parseInt(s.shift()):i.join("-"),l=w?o[p]:m;e.length?r["default"].set(l,c,JSON.parse(e.toString())):a("deleteItem",{id:c,mode:"tasks"===d,source:l})},b=function(e,t,n){var s=t.split("/").reverse(),i=s.shift(),c=g.reduce((function(e,t,n){return"+"===t&&e.push(s[n]),e}),[]).reverse(),l=0===c.length?parseInt(s.shift()):c.join("-"),u=w?o[p]:m;return"deleted"===i?(a("deleteItem",{id:l,mode:"tasks"===d,source:u}),!1):!!e.length&&void(u[l]?r["default"].set(u[l],i,JSON.parse(e.toString())):r["default"].set(u,l,ge()({id:l},i,JSON.parse(e.toString()))))},e.next=20,r["default"].connector.socket.subscribe({name:u,handler:l===Se?v:b});case 20:return w=e.sent,r["default"].set(o,p,m),e.abrupt("return",w);case 25:e.prev=25,e.t0=e["catch"](7),a("reqFailed",e.t0),a("setItems",{items:{},entity:d});case 29:case"end":return e.stop()}}),e,null,[[7,25]])}))),Me.apply(this,arguments)}function Le(e,t){return Oe.apply(this,arguments)}function Oe(){return Oe=i()(s.a.mark((function e(t,n){var o,a,i,c,l,d;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.state,o=t.commit,a=Ce(n),i=a.id,c=a.mode,l=a.entity,!l){e.next=13;break}return d="flespi/state".concat(ke[l],"/").concat(i||"+").concat(c===Ie?"/".concat(xe[l].join(",")):""),e.prev=4,e.next=7,r["default"].connector.socket.unsubscribe(d);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e["catch"](4),o("reqFailed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])}))),Oe.apply(this,arguments)}function Te(e,t){return Ne.apply(this,arguments)}function Ne(){return Ne=i()(s.a.mark((function e(t,n){var o,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.state,r["default"].set(o,"isLoading",!0),e.next=4,Promise.all(n.map((function(e){return Pe(t,e)})));case 4:return a=e.sent,r["default"].set(o,"isLoading",!1),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function De(e,t){return _e.apply(this,arguments)}function _e(){return _e=i()(s.a.mark((function e(t,n){var o,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.state,r["default"].set(o,"isLoading",!0),e.next=4,Promise.all(n.map((function(e){var s=Ce(n),a=s.entity;r["default"].delete(o,a),Le(t,e)})));case 4:return a=e.sent,r["default"].set(o,"isLoading",!1),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function Ee(e,t){return Qe.apply(this,arguments)}function Qe(){return Qe=i()(s.a.mark((function e(t,n){var o,a,i,c,l,d,p;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.state,a=t.commit,!n){e.next=42;break}i={fields:"item_data",count:2e3,reverse:!0},e.t0=n,e.next="devices"===e.t0?6:"channels"===e.t0?8:"streams"===e.t0?10:"calcs"===e.t0?12:"modems"===e.t0?14:"containers"===e.t0?16:"cdns"===e.t0?18:20;break;case 6:return i=Object.assign(i,{filter:"origin_type=11,event_code=3"}),e.abrupt("break",20);case 8:return i=Object.assign(i,{filter:"origin_type=9,event_code=3"}),e.abrupt("break",20);case 10:return i=Object.assign(i,{filter:"origin_type=12,event_code=3"}),e.abrupt("break",20);case 12:return i=Object.assign(i,{filter:"origin_type=13,event_code=3"}),e.abrupt("break",20);case 14:return i=Object.assign(i,{filter:"origin_type=10,event_code=3"}),e.abrupt("break",20);case 16:return i=Object.assign(i,{filter:"origin_type=6,event_code=3"}),e.abrupt("break",20);case 18:return i=Object.assign(i,{filter:"origin_type=7,event_code=3"}),e.abrupt("break",20);case 20:if(!o.token){e.next=42;break}if(e.prev=21,"undefined"!==typeof o.isLoading&&r["default"].set(o,"isLoading",!0),c=[],1!==o.tokenInfo.access.type){e.next=31;break}return e.next=27,Promise.all([r["default"].connector.platform.getSubaccountsLogs("all",{data:JSON.stringify(i)}),r["default"].connector.platform.getCustomerLogs({data:JSON.stringify(i)})]);case 27:l=e.sent,d=l.reduce((function(e,t){var n=be()(t,"data.result",[]);return e.result=[].concat(fe()(e.result),fe()(n)),e.errors=[].concat(fe()(e.errors),fe()(t.errors||[])),e}),{errors:[],result:[]}),d.errors&&d.errors.forEach((function(e){a("addError",e.reason)})),c=d.result.length?d.result.reverse():[];case 31:c.length||X["a"].create({message:"No deleted ".concat(n," found."),color:"warning",classes:"text-center",icon:"mdi-alert-octagon-outline",timeout:1e3}),p=ye({},o[n],{},c.reduce((function(e,t){var n=t.item_data;return n.deleted=!0,e[n.id]=n,e}),{})),a("setItems",{items:p,entity:n}),"undefined"!==typeof o.isLoading&&r["default"].set(o,"isLoading",!1),e.next=42;break;case 37:e.prev=37,e.t1=e["catch"](21),a("reqFailed",e.t1),a("setItems",{items:{},entity:n}),"undefined"!==typeof o.isLoading&&r["default"].set(o,"isLoading",!1);case 42:case"end":return e.stop()}}),e,null,[[21,37]])}))),Qe.apply(this,arguments)}function je(e){return qe.apply(this,arguments)}function qe(){return qe=i()(s.a.mark((function e(t){var n,o,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,o=t.commit,e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,r["default"].connector.http.external.get("./statics/icons/favicon-16x16.png?_=".concat((new Date).getTime()));case 6:a=e.sent,200===a.status&&n.offline&&o("setOfflineFlag",!1),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),n.offline||o("setOfflineFlag",!0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])}))),qe.apply(this,arguments)}var Fe={getItems:Pe,unsubscribeItems:Le,checkConnection:je,getDeleted:Ee,getEntities:Te,removeEntities:De};n("6762"),n("2fdb"),n("4917");function He(e){0}function Je(e,t){if(t.response&&t.response.status)switch(t.response.status){case 0:Be(e,!0),r["default"].set(e,"token","");break;case 401:Re(e);break;default:t.response.data&&t.response.data.errors&&t.response.data.errors.length&&t.response.data.errors.forEach((function(t){Ue(e,t.reason)}))}else Ue(e,t.message),2!==t.code&&134!==t.code&&135!==t.code||Re(e)}function Ve(e,t){var n=t.id,o=t.mode,s=t.source;o?r["default"].delete(s,n):r["default"].set(s[n],"deleted",!0)}function $e(e,t){var n=t.items,o=t.entity;r["default"].set(e,o,n)}function Ae(e,t){r["default"].set(e,t,{})}function Be(e,t){r["default"].set(e,"offline",t)}function Ge(e,t){var n=t.replace("FlespiToken ","");if(n===e.token)return!1;t&&n.match(/^[a-z0-9]+$/i)?W["a"].set("toolbox-token[".concat(window.name||"default","]"),n):(n="",Re(e)),r["default"].connector.token="FlespiToken ".concat(n),r["default"].set(e,"token",n),Xe(e)}function Re(e){W["a"].remove("toolbox-token[".concat(window.name||"default","]")),r["default"].connector.token="",r["default"].set(e,"token",""),Ke(e),Object.keys(e.config).forEach((function(t){r["default"].set(e.config[t],"isDrawable",!1)}))}function ze(e,t){r["default"].set(e,"config",t)}function Ue(e,t){if(!e.token)return!1;console.trace(),X["a"].create({type:"negative",icon:"warning",message:"".concat(t),timeout:1e3}),e.newNotificationCounter++,e.errors.push(t)}function Xe(e){e.errors=[]}function Ye(e,t){switch(r["default"].set(e,"tokenInfo",t),t.access.type){case 0:Object.keys(e.config).forEach((function(t){if("platform"===t)return!1;r["default"].set(e.config[t],"isDrawable",!0)}));break;case 1:Object.keys(e.config).forEach((function(t){r["default"].set(e.config[t],"isDrawable",!0)}));break;case 2:r["default"].set(e.config.platform,"isDrawable",!1);var n=t.access.acl.reduce((function(e,t){if("gw"===t.uri)return t.methods.includes("GET")?[].concat(fe()(e),["channels","calcs","devices","streams","modems","protocols"]):e;if("storage"===t.uri)return t.methods.includes("GET")?[].concat(fe()(e),["containers","cdns"]):e;var n=t.uri.split("/")[1]||t.uri.split("/")[0];return!e.includes(n)&&(!t.methods||t.methods&&t.methods.includes("GET"))&&e.push(n),e}),[]);Object.keys(e.config).forEach((function(t){var o=e.config[t];if(!o.acl)return!1;var s=o.acl.reduce((function(e,t){return e&&n.includes(t)}),!0);s&&r["default"].set(e.config[t],"isDrawable",!0)}));break}}function Ke(e){e.tokenInfo=null}function We(e,t){r["default"].set(e,"socketOffline",t)}function Ze(e){e.newNotificationCounter=0}function et(e){var t=K["a"].getItem("flespi-toolbox-settings");if(!t){t={entities:{}};var n=t.entities,o=["devices","channels","calcs","streams","modems","containers","cdns","tools/hex","platform","mqtt"];o.forEach((function(e){var t=K["a"].getItem(e);t&&(n[e]=t,K["a"].remove(e))}))}e.settings=t||{}}function tt(e,t){var n=t.type,o=t.opt,s=t.value,a=e.settings;switch(n){case"ENTITY_CHANGE":var i=o.entity;a.entities||(a.entities={}),a.entities[i]=s;break}K["a"].set("flespi-toolbox-settings",a)}var nt={reqStart:He,setItems:$e,deleteItem:Ve,reqFailed:Je,setToken:Ge,clearToken:Re,setOfflineFlag:Be,clearItems:Ae,setConfig:ze,addError:Ue,clearErrors:Xe,setTokenInfo:Ye,clearTokenInfo:Ke,setSocketOffline:We,clearNotificationCounter:Ze,getToolboxSettings:et,setToolboxSettings:tt},ot=(new Date).toString().match(/([-+][0-9]+)\s/)[1],st={platform:{label:"Platform",icon:"icon-flespi2-02-01",type:"viewer",isDrawable:!1,logs:{vuexModuleName:"platformLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you have some active instances in the flespi platform, e.g. channels receiving messages, streams forwarding data, MQTT sessions, etc.",wclass:["col-6","col-sm-6"]},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods.",wclass:["col-6","col-sm-6"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-6","col-sm-6"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-6","col-sm-6"]}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},channels:{label:"Channels",icon:"merge_type",type:"viewer",acl:["protocols","channels"],isDrawable:!1,logs:{vuexModuleName:"channelsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"ident",width:150,display:!0,description:"Connected device's identification string"},{name:"msgs",title:"messages",width:85,display:!0,description:"Number of messages received"},{name:"recv",title:"received",width:85,display:!0,description:"Number of bytes received"},{name:"send",title:"sent",width:85,display:!0,description:"Number of bytes sent"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"},{name:"duration",width:85,display:!0,description:"Connection duration in seconds"},{name:"transport",width:85,display:!0,description:"Connected device's transport: tcp, udp, http etc"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},messages:{vuexModuleName:"channelsMessages",emptyState:{label:"Messages not found",sublabel:"If you expect to see the device messages here",hints:[{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages.",wclass:["col-6","col-sm-6"]},{html:"Check the <span class='text-bold'>messages TTL</span> in the channel settings — if it’s set to 0, messages will not show.",wclass:["col-6","col-sm-6"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},calcs:{label:"Calcs",icon:"mdi-calculator-variant",type:"viewer",acl:["calcs"],isDrawable:!1,logs:{vuexModuleName:"calcsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you <a class='text-white' href='https://flespi.com/kb/working-with-devices-assigned-to-calculator' target='_blank'>assigned</a> this calculator to one or more devices and that these devices have messages to perform calculations with."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},devices:{label:"Devices",icon:"mdi-developer-board",type:"viewer",acl:["devices"],isDrawable:!1,logs:{vuexModuleName:"devicesLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure the respective physical tracker correctly points to the proper channel’s <span class='text-bold'>IP:port</span> and is currently sending messages."},{html:"Make sure you specified the correct device <span class='text-bold'>ident</span> and picked the proper <span class='text-bold'>device type</span>."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"name",title:"setting",width:80,display:!0,description:"Setting name"},{name:"ident",width:150,display:!0,description:"Connected device's identification string"},{name:"msgs",title:"messages",width:85,display:!0,description:"Number of messages received"},{name:"recv",title:"received",width:85,display:!0,description:"Number of bytes received"},{name:"send",title:"sent",width:85,display:!0,description:"Number of bytes sent"},{name:"source",width:150,display:!0,description:"Connected device's address"},{name:"host",width:150,display:!0,description:"IP address from which HTTP request was received"},{name:"duration",width:85,display:!0,description:"Connection duration in seconds"},{name:"transport",width:85,display:!0,description:"Connected device's transport: tcp, udp, http etc"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},messages:{vuexModuleName:"devicesMessages",emptyState:{label:"Messages not found",sublabel:"If you expect to see the device messages here",hints:[{html:"Make sure the respective physical tracker correctly points to the proper channel’s <span class='text-bold'>IP:port</span> and is currently sending messages."},{html:"Make sure you specified the correct device <span class='text-bold'>ident</span> and picked the proper <span class='text-bold'>device type</span>."},{html:"Check the <span class='text-bold'>messages TTL</span> in the device settings — if it’s set to 0, messages will not show."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},intervals:{vuexModuleName:"intervals",emptyState:{label:"Intervals not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure the selected device has messages to perform intervals calculations with."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"},{icon:"mdi-map",label:"on map",classes:"",type:"map"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},streams:{label:"Streams",icon:"mdi-call-split",type:"viewer",acl:["streams"],isDrawable:!1,logs:{vuexModuleName:"streamsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you <a class='text-white' href='https://flespi.com/kb/stream-forward-data-from-gateway' target='_blank'>subscribed</a> this stream to one or more channels and/or devices."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"messages",width:100,display:!0,description:"Number of messages has sent"},{name:"host",width:150,display:!0,description:"IP address from which HTTP request was received"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},modems:{label:"Modems",icon:"router",type:"viewer",acl:["modems"],isDrawable:!1,logs:{vuexModuleName:"modemsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure your modem is configured correctly."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"address",width:100,display:!0,description:"SMS source address or SMS destination address"},{name:"type",width:100,display:!0,description:"hex or text"},{name:"text",width:150,display:!0,description:"textual SMS contents"},{name:"hex",width:150,display:!0,description:"hex representation of binary SMS contents"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},containers:{label:"Containers",icon:"featured_play_list",type:"viewer",acl:["containers"],isDrawable:!1,logs:{vuexModuleName:"containersLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:80,display:!0,description:"IP address from which HTTP request was received"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},mqtt:{label:"MQTT",icon:"mdi-access-point-network",acl:["mqtt"],type:"viewer",isDrawable:!1,logs:{vuexModuleName:"mqttLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you have active MQTT sessions communicating with the flespi MQTT broker using <a class='text-white' href='https://flespi.com/tools/mqtt-board' target='_blank'>MQTT board</a> tool."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"client_id",width:150,display:!0,description:"session client id"},{name:"published",width:80,display:!0,description:"amount of messages published by session"},{name:"received",width:80,display:!0,description:"amount of messages received by session"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},cdns:{label:"CDNS",icon:"mdi-harddisk",type:"viewer",acl:["cdns"],isDrawable:!1,logs:{vuexModuleName:"cdnsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:"".concat(ot.slice(0,3),":").concat(ot.slice(3))},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:150,display:!0,description:"IP address from which HTTP request was received"},{name:"mime",width:80,display:!0,description:"mime type of file"},{name:"name",width:250,display:!0,description:"name of file"},{name:"size",width:80,display:!0,description:""}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},hexViewer:{label:"Hex Viewer",path:"tools/hex",type:"tools",icon:"mdi-matrix",acl:["protocols","channels"],isDrawable:!1,messages:{vuexModuleName:"hexMessages",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the raw messages here",hints:[{html:"Check your <a class='text-white' href='https://flespi.com/protocols/proxy' target='_blank'>proxy channel</a> configuration."},{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages."},{html:"Switch to <span class='text-bold'>History mode</span> to check if you had logs for the previous periods.",wclass:["col-12"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-12"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-12"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right",needShowDate:!1},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},mqttClient:{label:"Mqtt Board",path:"tools/mqtt",type:"tools",icon:"mdi-view-dashboard-variant",isDrawable:!1}};r["default"].use(ue["a"]);var at={token:"",settings:{},offline:!1,socketOffline:!1,isLoading:!1,config:JSON.parse(JSON.stringify(st)),errors:[],tokenInfo:null,newNotificationCounter:0},it=new ue["a"].Store({state:at,actions:Fe,mutations:nt}),rt=it,ct=n("8c4f"),lt=n("8103"),dt=n.n(lt);function pt(e){return Object.keys(e).reduce((function(t,o){var s=dt()(o),a=e[o].type,i=e[o].path||o,r={path:i,component:function(){return n("a383")("./".concat(a,"/").concat(s))},meta:{moduleName:o},children:[{path:":id",meta:{moduleName:o}}]};return"devices"===o&&t.push({path:"devices/:id/calc/:calcId/intervals",component:function(){return n("f32d")("./".concat(a,"/Intervals"))},meta:{moduleName:"intervals"}}),t.push(r),t}),[])}var ut=[{path:"/",component:function(){return Promise.all([n.e("vendor"),n.e("f72401b0")]).then(n.bind(null,"b831"))},children:[].concat(fe()(pt(st)),[{path:"view/:type/:id",name:"module",component:function(){return Promise.all([n.e("vendor"),n.e("f72401b0")]).then(n.bind(null,"b831"))}}])},{path:"/token/:token",component:function(){return n.e("0a36d2d0").then(n.bind(null,"013f"))}},{path:"/token/:token/type/:type/id/:id",component:function(){return Promise.all([n.e("vendor"),n.e("f72401b0")]).then(n.bind(null,"b831"))}},{path:"/token/:token/group/:group",component:function(){return Promise.all([n.e("vendor"),n.e("f72401b0")]).then(n.bind(null,"b831"))}},{path:"/token/:token/type/:type/id/:id/fullscreen/:fullscreen",component:function(){return Promise.all([n.e("vendor"),n.e("f72401b0")]).then(n.bind(null,"b831"))}},{path:"/token/:token/type/:type/id/:id/fullscreen/:fullscreen/noselect/:noselect",component:function(){return Promise.all([n.e("vendor"),n.e("f72401b0")]).then(n.bind(null,"b831"))}},{path:"/login",component:function(){return n.e("0a36d2d0").then(n.bind(null,"013f"))},name:"simpleLogin"},{path:"/login/:token",component:function(){return n.e("0a36d2d0").then(n.bind(null,"013f"))}},{path:"/login/:token/flespi",component:function(){return n.e("0a36d2d0").then(n.bind(null,"013f"))}}];r["default"].use(ct["a"]);var ht=new ct["a"]({mode:"hash",base:"",scrollBehavior:function(){return{y:0}},routes:ut}),ft=ht,mt=function(){return gt.apply(this,arguments)};function gt(){return gt=i()(s.a.mark((function e(){var t,n,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof rt){e.next=6;break}return e.next=3,rt({Vue:r["default"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=rt;case 7:if(t=e.t0,"function"!==typeof ft){e.next=14;break}return e.next=11,ft({Vue:r["default"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=ft;case 15:return n=e.t1,t.$router=n,o={el:"#q-app",router:n,store:t,render:function(e){return e(pe)}},e.abrupt("return",{app:o,store:t,router:n});case 19:case"end":return e.stop()}}),e)}))),gt.apply(this,arguments)}var vt=n("a925"),bt={failed:"Action failed",success:"Action was successful"},wt={"en-us":bt};r["default"].use(vt["a"]);var yt=new vt["a"]({locale:"en-us",fallbackLocale:"en-us",messages:wt}),kt=function(e){var t=e.app;t.i18n=yt},xt=n("41dc"),St=n("9224"),It={protocolVersion:5,wsOptions:{objectMode:!1,perMessageDeflate:!0}},Ct={socketConfig:{clientId:"toolbox-".concat(St["version"],"-").concat(Math.random().toString(16).substr(2,8)),mqttSettings:It}};-1===window.location.host.indexOf("localhost:9004")&&-1===window.location.host.indexOf("localhost:9005")&&-1===window.location.host.indexOf("localhost:7004")||(Ct={httpConfig:{server:"https://localhost",port:9005},socketConfig:{server:"wss://localhost:9017",clientId:"toolbox-".concat(St["version"],"-dev-").concat(Math.random().toString(16).substr(2,8)),mqttSettings:It}}),"flespi"===window.location.hash.split("/").slice(-1)[0]&&(Ct={socketConfig:{clientId:"toolbox-".concat(St["version"],"-").concat(Math.random().toString(16).substr(2,8)),mqttSettings:It}});var Pt=function(e){var t=e.Vue,n=e.store;t.prototype.$flespiServer=Ct.httpConfig&&Ct.httpConfig.server?"".concat(Ct.httpConfig.server,":").concat(Ct.httpConfig.port):"https://flespi.io",t.prototype.$flespiSocketServer=Ct.socketConfig&&Ct.socketConfig.server?Ct.socketConfig.server:"wss://mqtt.flespi.io",t.use(xt["a"],Ct),t.connector.socket.on("connect",(function(e){var t=JSON.parse(e.properties.userProperties.token);n.commit("setTokenInfo",t),n.commit("setSocketOffline",!1)})),t.connector.socket.on("error",(function(e){n.commit("reqFailed",e)})),t.connector.socket.on("offline",(function(){n.commit("setSocketOffline",!0)})),window&&window.addEventListener("beforeunload",(function(){t.connector.socket.close(!0)}))},Mt=(n("4d6b"),function(){});function Lt(){return Ot.apply(this,arguments)}function Ot(){return Ot=i()(s.a.mark((function e(){var t,n,o,a,i,c,l,d,p;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mt();case 2:t=e.sent,n=t.app,o=t.store,a=t.router,i=!0,c=function(e){i=!1,window.location.href=e},l=window.location.href.replace(window.location.origin,""),d=[kt,Pt,Mt],p=0;case 11:if(!(!0===i&&p<d.length)){e.next=29;break}if("function"===typeof d[p]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,d[p]({app:n,router:a,store:o,Vue:r["default"],ssrContext:null,redirect:c,urlPath:l});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:p++,e.next=11;break;case 29:if(!1!==i){e.next=31;break}return e.abrupt("return");case 31:new r["default"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Ot.apply(this,arguments)}Lt()},3:function(e,t){},4:function(e,t){},"4d6b":function(e,t,n){},"7e6d":function(e,t,n){},"7faf":function(e,t,n){"use strict";var o=n("8ef9"),s=n.n(o);s.a},"85c2":function(e,t,n){"use strict";var o=n("1d10"),s=n.n(o);s.a},"8ef9":function(e,t,n){},9224:function(e){e.exports=JSON.parse('{"name":"toolbox","version":"0.21.0","description":"Flespi ToolboX","productName":"ToolboX","cordovaId":"org.cordova.quasar.app","capacitorId":"","author":"Sergey Buntsevich <scarry92@yandex.ru>","private":true,"scripts":{"lint":"eslint --ext .js,.vue src","dev":"node ./build.js \\"dev -m spa\\" \\"flespi\\"","build":"node ./build.js \\"build -m spa\\" \\"flespi\\"","dev_local":"node ./build.js \\"dev -m spa\\" \\"local\\"","deploy":"rm -rf dist && npm run build && rm -rf deploy && mkdir deploy && cp -R dist/spa/* misc CNAME LICENSE package.json deploy && cp README.md deploy/README.md && node_modules/git-directory-deploy/bin/git-directory-deploy.sh -ddeploy -bgh-pages -rhttps://git.gurtam.net/flespi/frontend/toolbox.git && rm -rf deploy && git push github gh-pages"},"dependencies":{"@quasar/extras":"^1.3.3","flespi-io-js":"git+https://github.com/flespi-software/flespi-io-js.git","leaflet":"^1.6.0","lodash":"^4.17.15","mqtt-board":"git+https://github.com/flespi-software/MQTT-Board.git","quasar":"^1.5.11","qvirtualscroll":"git+https://github.com/flespi-software/QVirtualScroll.git","shelljs":"^0.8.3","vue-draggable-resizable":"^2.1.0","vue-i18n":"^8.15.2","vue-virtual-scroll-list":"^1.4.4"},"devDependencies":{"@quasar/app":"^1.4.3","@vue/eslint-config-standard":"^4.0.0","babel-eslint":"^10.0.1","eslint":"^5.10.0","eslint-loader":"^2.1.1","eslint-plugin-vue":"^5.0.0","git-directory-deploy":"^1.5.1"},"engines":{"node":">= 8.9.0","npm":">= 5.6.0","yarn":">= 1.6.0"},"browserslist":["last 1 version, not dead, ie >= 11"]}')},a383:function(e,t,n){var o={"./404":["ee5d","4b4818b8"],"./404.vue":["ee5d","4b4818b8"],"./Login":["013f","0a36d2d0"],"./Login.vue":["013f","0a36d2d0"],"./tools/HexViewer":["56bd","vendor","chunk-common","094e738e"],"./tools/HexViewer.vue":["56bd","vendor","chunk-common","094e738e"],"./tools/MqttClient":["77ed","vendor","chunk-common","44d7480a"],"./tools/MqttClient.vue":["77ed","vendor","chunk-common","44d7480a"],"./viewer/Calcs":["c5ce","vendor","chunk-common","2dc5789c"],"./viewer/Calcs.vue":["c5ce","vendor","chunk-common","2dc5789c"],"./viewer/Cdns":["d1d0","vendor","chunk-common","1aa9e3fc"],"./viewer/Cdns.vue":["d1d0","vendor","chunk-common","1aa9e3fc"],"./viewer/Channels":["2985","vendor","chunk-common","404b158e"],"./viewer/Channels.vue":["2985","vendor","chunk-common","404b158e"],"./viewer/Containers":["aaff","vendor","chunk-common","7b539288"],"./viewer/Containers.vue":["aaff","vendor","chunk-common","7b539288"],"./viewer/Devices":["c4c9","vendor","chunk-common","d4a652a6"],"./viewer/Devices.vue":["c4c9","vendor","chunk-common","d4a652a6"],"./viewer/Intervals":["33b4","vendor","chunk-common","3742c986"],"./viewer/Intervals.vue":["33b4","vendor","chunk-common","3742c986"],"./viewer/Modems":["3a96","vendor","chunk-common","6a07c7a2"],"./viewer/Modems.vue":["3a96","vendor","chunk-common","6a07c7a2"],"./viewer/Mqtt":["7d52","vendor","chunk-common","4d1ac9ac"],"./viewer/Mqtt.vue":["7d52","vendor","chunk-common","4d1ac9ac"],"./viewer/Platform":["c34e","vendor","chunk-common","783c28bb"],"./viewer/Platform.vue":["c34e","vendor","chunk-common","783c28bb"],"./viewer/Streams":["8116","vendor","chunk-common","18d4c09a"],"./viewer/Streams.vue":["8116","vendor","chunk-common","18d4c09a"]};function s(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(s)}))}s.keys=function(){return Object.keys(o)},s.id="a383",e.exports=s},f32d:function(e,t,n){var o={"./viewer/Intervals":["33b4","vendor","chunk-common","3742c986"]};function s(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(s)}))}s.keys=function(){return Object.keys(o)},s.id="f32d",e.exports=s}},[[0,"runtime","vendor"]]]);